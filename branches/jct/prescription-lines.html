<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Single- and multiline prescriptions - Medication Prescription and Delivery (MPD) v0.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
      <!-- Placeholder for child template CSS declarations -->
<link rel="stylesheet" href="assets/css/ihe.css"/>

<script async="null" src="https://www.googletagmanager.com/gtag/js?id=G-HLBNC861DJ" type="text/javascript"> </script> 


    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="fhir-logo" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="fhir-logo" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="fhir-logo" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"2.4.1"}
    h3,h4,h5,h6{--heading-prefix:"2.4.1"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->

<div id="project-nav">
  <a no-external="true" id="ihe-logo" href="http://profiles.ihe.net">
    <img src="assets/images/ihe-international.png" alt="Visit the IHE website" height="71"/>
  </a>
</div>
<div id="family-nav">
  <a no-external="true" id="family-logo" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo.png" alt="Visit the FHIR website" height="30"/> </a>
</div>
  <!-- <div id="hl7-search">
  <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
</div> -->
<div id="project-nav">
  
  
    <a no-external="true" id="project-logo" href="http://profiles.ihe.net/PHARM/index.html"><img src="assets/images/PHARM.png" alt="Visit the PHARM website" height="70"/> </a>
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Medication Prescription and Delivery (MPD)</span>
            <br/>
            <span style="display:inline-block;">0.1.0 - ci-build



  <img src="assets/images/001.svg" alt="International flag" title="International" height="16"/>


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R5/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">MPD Home</a>
  </li>
  <li>
    <a href="toc.html">Table of Contents</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-1.html">Overview</a>
      </li>
      <li>
        <a href="usecases.html">Use Cases</a>
      </li>
      <li>
        <a href="medication-concepts.html">Medication Concepts</a>
      </li>
      <li>
        <a href="order-management.html">Order Management</a>
      </li>
      <li>
        <a href="interoperability-model.html">Interoperability Model</a>
      </li>
      <li>
        <a href="data-models.html">Data Models</a>
      </li>
      <li>
        <a href="actors-transactions.html">Actor and Transactions Overview</a>
      </li>
      <li>
        <a href="security.html">Security Considerations</a>
      </li>
      <li>
        <a href="cross-profile.html">Cross-profile Considerations</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="volume-2.html">Overview</a>
      </li>
      <li>
        <a href="submit-medication-order.html">PHARM-X1 - Submit Medication Order</a>
      </li>
      <li>
        <a href="retrieve-medication-order.html">PHARM-X2 - Retrieve Medication Order</a>
      </li>
      <li>
        <a href="submit-medication-dispense.html">PHARM-X3 - Submit Medication Dispense</a>
      </li>
      <li>
        <a href="retrieve-medication-dispense.html">PHARM-X4 - Retrieve Medication Dispense</a>
      </li>
    </ul>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 3
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="error_codes.html">Error Codes</a>
      </li>
      <li><a name="l295">​</a>
        <a href="fhir_maps.html">FHIR Maps</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="testplan.html">Test Plan</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><a href="volume-1.html"><b>Volume 1</b></a></li><li><a href="order-management.html"><b>Order Management</b></a></li><li><b>Single- and multiline prescriptions</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">Medication Prescription and Delivery (MPD), published by Integrating the Healthcare Enterprise (IHE). This guide is not an authorized publication; it is the continuous build for version 0.1.0 built by the FHIR (HL7&reg; FHIR&reg; Standard) CI Build. This version is based on the current content of <a href="https://github.com/IHE/pharm-mpd">https://github.com/IHE/pharm-mpd</a> and changes regularly. See the <a href="http://profiles.ihe.net/PHARM/ihe.pharm.mpd/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Single- and multiline prescriptions</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#core-entities-and-relationships" id="markdown-toc-core-entities-and-relationships">Core Entities and Relationships:</a></li>
  <li><a href="#model-application" id="markdown-toc-model-application">Model Application:</a></li>
  <li><a href="#derived-diagrams" id="markdown-toc-derived-diagrams">Derived Diagrams:</a></li>
  <li><a href="#compatibility" id="markdown-toc-compatibility">Compatibility</a></li>
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#data-element-comparison-in-single-line-and-multi-line-prescriptions" id="markdown-toc-data-element-comparison-in-single-line-and-multi-line-prescriptions">Data Element Comparison in Single-line and Multi-line Prescriptions</a></li>
  <li><a href="#interpretation-and-key-considerations" id="markdown-toc-interpretation-and-key-considerations">Interpretation and Key Considerations</a></li>
</ul>

</div>

<p>In some jurisdictions, a prescription has only one line - one prescription, one medication. In other countries, a prescription is a group of medication lines. This is normally legally established, and it is important to support both these cases.</p>

<p>The IHE MPD profile provides a common model that supports both these cases. This allows different types of implementations to use IHE, and allows for interoperability between these different systems, understanding the data needs and assumptions.</p>

<p>The model describes the medication prescription and dispensing processes. It supports the two common scenarios:</p>

<ol>
  <li><strong>Single-line Prescriptions</strong>: Each prescription corresponds to one line.</li>
  <li><strong>Multi-line Prescriptions</strong>: A prescription can contain multiple lines.</li>
</ol>

<h3 id="core-entities-and-relationships">Core Entities and Relationships:</h3>

<ul>
  <li>
    <p><strong>Medication Product</strong>: Denotes a specific medication product.</p>
  </li>
  <li>
    <p><strong>Prescription</strong>: Represents an overall prescription. In single-line prescriptions, this entity is not used.</p>
  </li>
  <li>
    <p><strong>Prescription Line</strong>: Detailed line item within a prescription.</p>
  </li>
  <li>
    <p><strong>Dispense</strong>: The dispensation of a medication, always tied to a Prescription Line.</p>
  </li>
</ul>

<h4 id="relationship-with-dispense">Relationship with Dispense:</h4>

<ul>
  <li>For multi-line prescriptions, a <strong>Prescription</strong> can contain multiple <strong>Prescription Lines</strong>.</li>
  <li>Both <strong>Prescription Line</strong> and <strong>Dispense</strong> refer to <strong>Medication Product</strong>.</li>
</ul>

<h3 id="model-application">Model Application:</h3>

<ol>
  <li>
    <p><strong>Single-line Prescriptions</strong>: The “Prescription” entity isn’t utilized. The “Prescription Line” captures all prescription details.</p>
  </li>
  <li>
    <p><strong>Multi-line Prescriptions</strong>: “Prescription” serves as a grouping, containing multiple “Prescription Lines”.</p>
  </li>
</ol>

<p>Dispensation always pertains to individual Prescription Lines.</p>

<h3 id="derived-diagrams">Derived Diagrams:</h3>

<p><strong>Scenario a (Single-line Prescriptions)</strong>:
When a prescription has one single line, the prescription and the line are the same object.</p>

<figure>
    <!-- ?xml version="1.0" encoding="us-ascii" standalone="no"? --><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 509 232" zoomAndPan="magnify" preserveAspectRatio="none" width="509px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:509px;height:232px;background:#FFFFFF;" version="1.1" height="232px"><defs></defs><g>  <!-- class PL --><g id="elem_PL"><rect codeLine="11" rx="2.5" ry="2.5" width="171" x="7" y="7" style="stroke:#505090;stroke-width:0.5;" id="PL" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="7" y="7" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="7" y="30.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="11" rx="2.5" ry="2.5" width="171" x="7" y="7" style="stroke:#505090;stroke-width:0.5;" id="PL" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="25.5" font-size="14" textLength="134" y="24.9951" font-family="sans-serif" fill="#000000">Prescription Line</text><line y1="33.2969" x1="8" y2="33.2969" style="stroke:#505090;stroke-width:0.5;" x2="177"></line><text lengthAdjust="spacing" x="29" font-size="14" textLength="87" y="56.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="29" font-size="14" textLength="149" y="72.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="22" y="50.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="51.4453" x1="15" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="23"></line><line y1="43.2969" x1="15" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="15"></line><rect width="2" x="22" y="66.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="67.7422" x1="15" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="23"></line><line y1="51.4453" x1="15" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="15"></line></g>  <!-- class D --><g id="elem_D"><rect codeLine="15" rx="2.5" ry="2.5" width="171" x="331" y="7" style="stroke:#505090;stroke-width:0.5;" id="D" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="331" y="7" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="331" y="30.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="15" rx="2.5" ry="2.5" width="171" x="331" y="7" style="stroke:#505090;stroke-width:0.5;" id="D" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="380" font-size="14" textLength="73" y="24.9951" font-family="sans-serif" fill="#000000">Dispense</text><line y1="33.2969" x1="332" y2="33.2969" style="stroke:#505090;stroke-width:0.5;" x2="501"></line><text lengthAdjust="spacing" x="353" font-size="14" textLength="87" y="56.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="353" font-size="14" textLength="149" y="72.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="346" y="50.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="51.4453" x1="339" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="347"></line><line y1="43.2969" x1="339" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="339"></line><rect width="2" x="346" y="66.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="67.7422" x1="339" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="347"></line><line y1="51.4453" x1="339" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="339"></line></g>  <!-- class M --><g id="elem_M"><rect codeLine="19" rx="2.5" ry="2.5" width="171" x="168" y="155" style="stroke:#505090;stroke-width:0.5;" id="M" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="168" y="155" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="168" y="178.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="19" rx="2.5" ry="2.5" width="171" x="168" y="155" style="stroke:#505090;stroke-width:0.5;" id="M" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="177.5" font-size="14" textLength="152" y="172.9951" font-family="sans-serif" fill="#000000">Medication Product</text><line y1="181.2969" x1="169" y2="181.2969" style="stroke:#505090;stroke-width:0.5;" x2="338"></line><text lengthAdjust="spacing" x="190" font-size="14" textLength="87" y="204.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="190" font-size="14" textLength="149" y="220.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="183" y="198.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="199.4453" x1="176" y2="199.4453" style="stroke:#000000;stroke-width:1.0;" x2="184"></line><line y1="191.2969" x1="176" y2="199.4453" style="stroke:#000000;stroke-width:1.0;" x2="176"></line><rect width="2" x="183" y="214.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="215.7422" x1="176" y2="215.7422" style="stroke:#000000;stroke-width:1.0;" x2="184"></line><line y1="199.4453" x1="176" y2="215.7422" style="stroke:#000000;stroke-width:1.0;" x2="176"></line></g>  <!-- reverse link PL to D --><g id="link_PL_D"><path codeLine="23" d="M183.06,42.5 C229.29,42.5 285.23,42.5 330.75,42.5 " style="stroke:#181818;stroke-width:1.0;" id="PL-backto-D" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="178.05,42.5,187.05,46.5,183.05,42.5,187.05,38.5,178.05,42.5"></polygon><text lengthAdjust="spacing" x="208.5" font-size="13" textLength="88" y="35.5669" font-family="sans-serif" fill="#000000">Authorized by</text><text lengthAdjust="spacing" x="186.0255" font-size="13" textLength="8" y="38.9097" font-family="sans-serif" fill="#000000">1</text><text lengthAdjust="spacing" x="300.0004" font-size="13" textLength="23" y="55.1742" font-family="sans-serif" fill="#000000">1..*</text></g>  <!-- link D to M --><g id="link_D_M"><path codeLine="24" d="M377.87,78.1 C353.3,100.11 321.45,128.64 296.14,151.31 " style="stroke:#181818;stroke-width:1.0;" id="D-to-M" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="292.13,154.9,301.4955,151.8525,295.8465,151.5552,296.1438,145.9061,292.13,154.9"></polygon><text lengthAdjust="spacing" x="348.5" font-size="13" textLength="57" y="121.0669" font-family="sans-serif" fill="#000000">Refers to</text></g>  <!-- link PL to M --><g id="link_PL_M"><path codeLine="25" d="M130.65,78.1 C154.93,100.11 186.38,128.64 211.39,151.31 " style="stroke:#181818;stroke-width:1.0;" id="PL-to-M" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="215.34,154.9,211.3626,145.89,211.6371,151.5402,205.9869,151.8147,215.34,154.9"></polygon><text lengthAdjust="spacing" x="187.5" font-size="13" textLength="57" y="121.0669" font-family="sans-serif" fill="#000000">Refers to</text></g></g></svg>
</figure>

<p><strong>Scenario b (Multi-line Prescriptions)</strong>:
When a prescription is issued with multiple lines, two data objects are used:</p>
<ul>
  <li>Prescription - containing the attributes of the order (prescriber, patient,…)</li>
  <li>Prescription line - containing the attributes relative to each medication (medication, dosage, …)</li>
</ul>

<figure>
    <!-- ?xml version="1.0" encoding="us-ascii" standalone="no"? --><svg xmlns="http://www.w3.org/2000/svg" contentStyleType="text/css" viewBox="0 0 771 232" zoomAndPan="magnify" preserveAspectRatio="none" width="771px" xmlns:xlink="http://www.w3.org/1999/xlink" style="width:771px;height:232px;background:#FFFFFF;" version="1.1" height="232px"><defs></defs><g>  <!-- class P --><g id="elem_P"><rect codeLine="11" rx="2.5" ry="2.5" width="171" x="7" y="7" style="stroke:#505090;stroke-width:0.5;" id="P" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="7" y="7" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="7" y="30.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="11" rx="2.5" ry="2.5" width="171" x="7" y="7" style="stroke:#505090;stroke-width:0.5;" id="P" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="44.5" font-size="14" textLength="96" y="24.9951" font-family="sans-serif" fill="#000000">Prescription</text><line y1="33.2969" x1="8" y2="33.2969" style="stroke:#505090;stroke-width:0.5;" x2="177"></line><text lengthAdjust="spacing" x="29" font-size="14" textLength="87" y="56.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="29" font-size="14" textLength="149" y="72.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="22" y="50.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="51.4453" x1="15" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="23"></line><line y1="43.2969" x1="15" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="15"></line><rect width="2" x="22" y="66.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="67.7422" x1="15" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="23"></line><line y1="51.4453" x1="15" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="15"></line></g>  <!-- class PL --><g id="elem_PL"><rect codeLine="15" rx="2.5" ry="2.5" width="171" x="269" y="7" style="stroke:#505090;stroke-width:0.5;" id="PL" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="269" y="7" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="269" y="30.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="15" rx="2.5" ry="2.5" width="171" x="269" y="7" style="stroke:#505090;stroke-width:0.5;" id="PL" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="287.5" font-size="14" textLength="134" y="24.9951" font-family="sans-serif" fill="#000000">Prescription Line</text><line y1="33.2969" x1="270" y2="33.2969" style="stroke:#505090;stroke-width:0.5;" x2="439"></line><text lengthAdjust="spacing" x="291" font-size="14" textLength="87" y="56.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="291" font-size="14" textLength="149" y="72.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="284" y="50.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="51.4453" x1="277" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="285"></line><line y1="43.2969" x1="277" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="277"></line><rect width="2" x="284" y="66.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="67.7422" x1="277" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="285"></line><line y1="51.4453" x1="277" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="277"></line></g>  <!-- class D --><g id="elem_D"><rect codeLine="19" rx="2.5" ry="2.5" width="171" x="593" y="7" style="stroke:#505090;stroke-width:0.5;" id="D" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="593" y="7" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="593" y="30.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="19" rx="2.5" ry="2.5" width="171" x="593" y="7" style="stroke:#505090;stroke-width:0.5;" id="D" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="642" font-size="14" textLength="73" y="24.9951" font-family="sans-serif" fill="#000000">Dispense</text><line y1="33.2969" x1="594" y2="33.2969" style="stroke:#505090;stroke-width:0.5;" x2="763"></line><text lengthAdjust="spacing" x="615" font-size="14" textLength="87" y="56.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="615" font-size="14" textLength="149" y="72.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="608" y="50.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="51.4453" x1="601" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="609"></line><line y1="43.2969" x1="601" y2="51.4453" style="stroke:#000000;stroke-width:1.0;" x2="601"></line><rect width="2" x="608" y="66.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="67.7422" x1="601" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="609"></line><line y1="51.4453" x1="601" y2="67.7422" style="stroke:#000000;stroke-width:1.0;" x2="601"></line></g>  <!-- class M --><g id="elem_M"><rect codeLine="23" rx="2.5" ry="2.5" width="171" x="430" y="155" style="stroke:#505090;stroke-width:0.5;" id="M" fill="#C2F0FF" height="70.8906"></rect><rect rx="2.5" ry="2.5" width="171" x="430" y="155" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="26.2969"></rect><rect width="171" x="430" y="178.7969" style="stroke:#87CEEB;stroke-width:0.5;" fill="#87CEEB" height="2.5"></rect><rect codeLine="23" rx="2.5" ry="2.5" width="171" x="430" y="155" style="stroke:#505090;stroke-width:0.5;" id="M" fill="none" height="70.8906"></rect><text font-weight="bold" lengthAdjust="spacing" x="439.5" font-size="14" textLength="152" y="172.9951" font-family="sans-serif" fill="#000000">Medication Product</text><line y1="181.2969" x1="431" y2="181.2969" style="stroke:#505090;stroke-width:0.5;" x2="600"></line><text lengthAdjust="spacing" x="452" font-size="14" textLength="87" y="204.292" font-family="sans-serif" fill="#000000">identifier 1..*</text><text lengthAdjust="spacing" x="452" font-size="14" textLength="149" y="220.5889" font-family="sans-serif" fill="#000000">... (other attributes) ...</text><rect width="2" x="445" y="198.4453" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="199.4453" x1="438" y2="199.4453" style="stroke:#000000;stroke-width:1.0;" x2="446"></line><line y1="191.2969" x1="438" y2="199.4453" style="stroke:#000000;stroke-width:1.0;" x2="438"></line><rect width="2" x="445" y="214.7422" style="stroke:#000000;stroke-width:1.0;" fill="#C2F0FF" height="2"></rect><line y1="215.7422" x1="438" y2="215.7422" style="stroke:#000000;stroke-width:1.0;" x2="446"></line><line y1="199.4453" x1="438" y2="215.7422" style="stroke:#000000;stroke-width:1.0;" x2="438"></line></g>  <!-- link P to PL --><g id="link_P_PL"><path codeLine="27" d="M178.29,42.5 C205.68,42.5 236.09,42.5 263.82,42.5 " style="stroke:#181818;stroke-width:1.0;" id="P-to-PL" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="268.97,42.5,259.97,38.5,263.97,42.5,259.97,46.5,268.97,42.5"></polygon><text lengthAdjust="spacing" x="196.5" font-size="13" textLength="54" y="35.5669" font-family="sans-serif" fill="#000000">contains</text><text lengthAdjust="spacing" x="186.0063" font-size="13" textLength="8" y="38.9328" font-family="sans-serif" fill="#000000">1</text><text lengthAdjust="spacing" x="233.9192" font-size="13" textLength="23" y="55.1742" font-family="sans-serif" fill="#000000">1..*</text></g>  <!-- reverse link PL to D --><g id="link_PL_D"><path codeLine="28" d="M445.06,42.5 C491.29,42.5 547.23,42.5 592.75,42.5 " style="stroke:#181818;stroke-width:1.0;" id="PL-backto-D" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="440.05,42.5,449.05,46.5,445.05,42.5,449.05,38.5,440.05,42.5"></polygon><text lengthAdjust="spacing" x="470.5" font-size="13" textLength="88" y="35.5669" font-family="sans-serif" fill="#000000">Authorized by</text><text lengthAdjust="spacing" x="448.0255" font-size="13" textLength="8" y="38.9097" font-family="sans-serif" fill="#000000">1</text><text lengthAdjust="spacing" x="562.0004" font-size="13" textLength="23" y="55.1742" font-family="sans-serif" fill="#000000">1..*</text></g>  <!-- link D to M --><g id="link_D_M"><path codeLine="29" d="M639.87,78.1 C615.3,100.11 583.45,128.64 558.14,151.31 " style="stroke:#181818;stroke-width:1.0;" id="D-to-M" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="554.13,154.9,563.4955,151.8525,557.8465,151.5552,558.1438,145.9061,554.13,154.9"></polygon><text lengthAdjust="spacing" x="610.5" font-size="13" textLength="57" y="121.0669" font-family="sans-serif" fill="#000000">Refers to</text></g>  <!-- link PL to M --><g id="link_PL_M"><path codeLine="30" d="M392.65,78.1 C416.93,100.11 448.38,128.64 473.39,151.31 " style="stroke:#181818;stroke-width:1.0;" id="PL-to-M" fill="none"></path><polygon style="stroke:#181818;stroke-width:1.0;" fill="#181818" points="477.34,154.9,473.3626,145.89,473.6371,151.5402,467.9869,151.8147,477.34,154.9"></polygon><text lengthAdjust="spacing" x="449.5" font-size="13" textLength="57" y="121.0669" font-family="sans-serif" fill="#000000">Refers to</text></g></g></svg>
</figure>

<h3 id="compatibility">Compatibility</h3>

<p>The two approaches are made compatible by using the same objects and relationships, and by putting the group as an identifier.</p>

<p>Systems processing prescriptions that uses a different approach can safely process data:</p>
<ul>
  <li>A system working with single-line prescriptions can see that the prescription line has a grouping and can optionally retrieve the entire group (prescription)</li>
</ul>

<p>A Dispensation is always related to an individual Prescription Line.</p>

<h2 id="introduction">Introduction</h2>

<p>The IHE specification needs to accommodate both single-line and multi-line prescriptions. This diversity necessitates a unified model that clearly defines how various data elements are handled in each scenario. The purpose of this comparison is to guide system designers and implementers in understanding and modeling these data elements accurately.</p>

<h2 id="data-element-comparison-in-single-line-and-multi-line-prescriptions">Data Element Comparison in Single-line and Multi-line Prescriptions</h2>

<p>The table below provides a comparison of prescription data elements, indicating their presence at the prescription level, line level, or both, and whether their meanings change based on these levels. This comparison is important for defining a common model that effectively addresses the different ways of grouping prescriptions.</p>

<table>
  <thead>
    <tr>
      <th>Data Element</th>
      <th>Prescription Level</th>
      <th>Line Level</th>
      <th>Shared/Unique</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>identifier 1..*</td>
      <td>Y</td>
      <td>Y</td>
      <td>Unique</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>status 1..1</td>
      <td>Y</td>
      <td>Y</td>
      <td>Unique</td>
      <td>Lines may have different statuses, necessitating a distinct prescription status.</td>
    </tr>
    <tr>
      <td>statusReasonCoded 0..1</td>
      <td>Y</td>
      <td>Y</td>
      <td>Unique</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>statusReasonText 0..1</td>
      <td>Y</td>
      <td>Y</td>
      <td>Unique</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>issueDate 1..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>recordedDate 1..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>validFrom 1..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Dependent</td>
      <td>Validity dates might differ across lines. Decision needed on uniformity.</td>
    </tr>
    <tr>
      <td>validUntil 1..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Dependent</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>patient 0..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>recorder 0..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>prescriber 0..1</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>indication 0..*</td>
      <td>Conditional</td>
      <td>Y</td>
      <td>Dependent</td>
      <td>Different lines may have unique indications, suggesting a need for separate indication handling.</td>
    </tr>
    <tr>
      <td>medication 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>dosage 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>usageInstructions 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>preparationInstructions 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>substitution 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>Dependent</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>.noSubstitutionFlag 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>Dependent</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>.noSubstitutionReasonCode 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>.noSubstitutionReasonText 0..1</td>
      <td>N</td>
      <td>Y</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>comment 0..1</td>
      <td>Y</td>
      <td>Y</td>
      <td>Dependent</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>coverage 0..1</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>Coverage is out of scope for the current version.</td>
    </tr>
    <tr>
      <td>reimbursementRate 0..1</td>
      <td>-</td>
      <td>-</td>
      <td>-</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>category</td>
      <td>Y</td>
      <td>Shared</td>
      <td>Shared</td>
      <td>&nbsp;</td>
    </tr>
  </tbody>
</table>

<p><em>Notes: “Y” indicates presence, “N” indicates absence, “Shared” means the element at the prescription level applies to all lines, “Unique” indicates different potential values at each level, and “Dependent” denotes elements whose shared or unique nature depends on specific scenarios or requirements.</em></p>

<h2 id="interpretation-and-key-considerations">Interpretation and Key Considerations</h2>

<ul>
  <li><strong>Shared vs. Unique Elements:</strong> It’s important to distinguish between data elements that are shared across all lines in a multi-line prescription and those that are unique to each line. This distinction helps in maintaining data consistency and integrity.</li>
  <li><strong>Context-Dependent Elements:</strong> Some data elements might require a case-by-case analysis to determine if they should be shared or unique (e.g., validity dates, indications).</li>
  <li><strong>Modeling for Flexibility:</strong> The system should be modeled to flexibly handle both shared and unique elements, accommodating</li>
</ul>




</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &copy; 2021+ <a style="color:var(--footer-hyperlink-text-color)" href="http://ihe.net">Integrating the Healthcare Enterprise (IHE)</a>.  Package ihe.pharm.mpd#0.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R5/">FHIR 5.0.0</a>. Generated <span title="Sun, Apr 7, 2024 18:26+0000">2024-04-07</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
                 <a style="color: var(--footer-hyperlink-text-color)" href="http://profiles.ihe.net/PHARM/ihe.pharm.mpd/history.html" target="_blank">Version History</a> |
                 <a rel="license" style="color: var(--footer-hyperlink-text-color)" href="https://profiles.ihe.net/GeneralIntro/ch-9.html"><img src="assets/images/cc-by.png" alt="CC0" style="border-style: none;" height="17"/></a> |
                  <!-- <a style="color: var(--footer-hyperlink-text-color)" href="searchform.html">Search</a> | -->
                 <a style="color: var(--footer-hyperlink-text-color)" href="https://www.ihe.net/resources/public_comment/" target="_blank">Propose a change<img src="external.png" alt="external" style="vertical-align: baseline"/></a>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HLBNC861DJ');
</script>

          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->
  
    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- feedback form - Google forms -->
  <!-- v0.1, 2021-01-09 -->



  <!-- / feedback form -->

    <!-- Analytics Below
  ================================================== -->
  </body>
</html>